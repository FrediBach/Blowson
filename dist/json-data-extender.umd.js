!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("chance"),require("lodash"),require("txtgen"),require("faker")):"function"==typeof define&&define.amd?define(["chance","lodash","txtgen","faker"],t):t(e.chance,e.lodash,e.txtgen,e.faker)}(this,function(e,t,i,n){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,i=i&&i.hasOwnProperty("default")?i.default:i,n=n&&n.hasOwnProperty("default")?n.default:n;var r=new e;function s(e,t){var i=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),n=""+(i.getMonth()+1),r=""+i.getDate(),s=i.getFullYear(),a=i.getHours(),l=i.getMinutes(),f=i.getSeconds();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[s,n,r].join("-")+"T"+[a,l,f].join(":")+"+01:00"}function a(e){var t,i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=[];for(t=i;t<=n;t++)-1==e.indexOf(t)&&r.push(t);return r.length>0&&{start:Math.min.apply(Math,r),end:Math.max.apply(Math,r)}}function l(e){if(!isFinite(e))return 0;for(var t=1,i=0;Math.round(e*t)/t!==e;)t*=10,i++;return i}function f(e){for(var t=0,i=0,n=e;i<n.length;i+=1){var r=l(n[i]);r>t&&(t=r)}return t}function o(e){for(var t,i=!0,n=0,r=e;n<r.length;n+=1)if(T(t=r[n])!==t){i=!1;break}return i}function d(e){return Math.min.apply(Math,e)}function p(e){return Math.max.apply(Math,e)}function u(e){for(var t,i,n=999999999,r=0,s=e;r<s.length;r+=1){t=s[r];for(var a=0,l=e;a<l.length;a+=1)t!==(i=l[a])&&Math.abs(t-i)<n&&(n=Math.abs(t-i))}return n}function h(e,t,i){var n,r;return arguments.length<2&&(t=e,e=0),i||(i=1),n=(t-e)/i,r=Math.random(),r*=n,r=Math.floor(r),r*=i,r+=e}function g(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function y(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function c(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function m(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function M(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function v(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function w(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function x(e){return new Date(Math.min.apply(null,e))}function b(e){return new Date(Math.max.apply(null,e))}function C(e){for(var t=[],i=0,n=e;i<n.length;i+=1)t.push(new Date(n[i]));return t}function T(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function D(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function j(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function k(e,t){for(var i,n={},r=[],s=0,a=e;s<a.length;s+=1)void 0===n[i=a[s]]?n[i]=1:n[i]++;for(var l=0,f=t;l<f.length;l+=1)r.push(n[i=f[l]]);return r}var q=new e;module.exports=function(e){var l,E,O,S,N,U,$,F,I,P,z=[];for(l in e){var L={key:l,minID:1,maxID:1,totalCount:0,fields:{}},J=void 0,Y=void 0;for(J in e[l])for(Y in e[l][J]){var H=e[l][J][Y],A="undefined";"boolean"==typeof H?A="boolean":"number"==typeof H?A=Math.round(H)===H?"int":"float":"string"==typeof H?A=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(H)?"date":D(H)?"datetime":j(H)?"time":1===H.length?"char":"string":"object"==typeof H&&(A="JSON"),void 0===L.fields[Y]?L.fields[Y]={types:[A],entries:[H],allEntries:[H],cnt:1}:(L.fields[Y].types.push(A),L.fields[Y].types=t.uniq(L.fields[Y].types),L.fields[Y].entries.push(H),L.fields[Y].entries=t.uniq(L.fields[Y].entries),L.fields[Y].allEntries.push(H),L.fields[Y].cnt++)}for(Y in L.fields)"id"===Y&&(L.totalCount=L.fields[Y].cnt),1===L.fields[Y].types.length&&(L.fields[Y].type=L.fields[Y].types[0]),L.fields[Y].entries.length<L.fields[Y].cnt?(L.fields[Y].repeatEntries=!0,L.fields[Y].weights=k(L.fields[Y].allEntries,L.fields[Y].entries)):L.fields[Y].repeatEntries=!1,L.fields[Y].required=!(L.fields[Y].cnt<L.totalCount);L.gap=a(L.fields.id.entries),z.push(L)}for(l in z){var B=z[l];if(B.gap){var G=void 0,K=void 0;for(G=B.gap.start;G<=B.gap.end;G++){var Q={};for(K in B.fields){var R="";if(B.fields[K].repeatEntries&&(R=q.weighted(B.fields[K].entries,B.fields[K].weights)),"id"===K&&(R=G),"age"===K&&"int"===B.fields[K].type&&(R=q.age()),"firstname"===K&&"string"===B.fields[K].type&&(R=q.first()),"lastname"===K&&"string"===B.fields[K].type&&(R=q.last()),"company"===K&&"string"===B.fields[K].type&&(R=q.company()),"country"===K&&"string"===B.fields[K].type&&(R=q.country()),"email"===K&&"string"===B.fields[K].type&&(R=n.internet.exampleEmail()),"color"===K&&"string"===B.fields[K].type&&(R=q.color()),"ip"===K&&"string"===B.fields[K].type&&(R=q.ip()),"profession"===K&&"string"===B.fields[K].type&&(R=q.profession()),"url"===K&&"string"===B.fields[K].type&&(R=q.url()),"city"===K&&"string"===B.fields[K].type&&(R=q.city()),"street"===K&&"string"===B.fields[K].type&&(R=q.street()),"zip"===K&&"int"===B.fields[K].type&&(R=parseInt(q.zip())),"weekday"===K&&"string"===B.fields[K].type&&(R=q.weekday()),"year"===K&&"int"===B.fields[K].type&&(R=parseInt(q.year())),"password"===K&&"string"===B.fields[K].type&&(R=q.hash()),"guid"===K&&"string"===B.fields[K].type&&(R=q.guid()),"product"===K&&"string"===B.fields[K].type&&(R=n.commerce.productName()),"material"===K&&"string"===B.fields[K].type&&(R=n.commerce.productMaterial()),"iban"===K&&"string"===B.fields[K].type&&(R=n.finance.iban()),"bic"===K&&"string"===B.fields[K].type&&(R=n.finance.bic()),"avatar"===K&&"string"===B.fields[K].type&&(R=n.image.avatar()),"username"===K&&"string"===B.fields[K].type&&(R=n.internet.userName()),"homepage"===K&&"string"===B.fields[K].type&&(R=n.internet.url()),"job"===K&&"string"===B.fields[K].type&&(R=n.name.jobTitle()),"mimetype"===K&&"string"===B.fields[K].type&&(R=n.system.mimeType()),""===R&&"JSON"===B.fields[K].type&&(R={}),""===R&&"string"===B.fields[K].type){var V=Math.min.apply(Math,B.fields[K].entries.map(function(e){return e.length})),W=g(B.fields[K].entries),X=y(B.fields[K].entries),Z=c(B.fields[K].entries),_=m(B.fields[K].entries),ee=M(B.fields[K].entries),te=v(B.fields[K].entries),ie=w(B.fields[K].entries);R=ie>1?i.article(Math.floor(Math.random()*ie)+te):ee>1?i.paragraph(Math.floor(Math.random()*ee)+_):Z>1?q.sentence({words:Math.floor(Math.random()*Z)+X}).slice(0,-1):B.fields[K].entries[0][0].toUpperCase()===B.fields[K].entries[0][0]?q.capitalize(q.word({length:Math.floor(Math.random()*V)+W})):q.string({length:Math.floor(Math.random()*V)+W}),B.fields[K].entries[0]===B.fields[K].entries[0].toUpperCase()?R=R.toUpperCase():B.fields[K].entries[0]===B.fields[K].entries[0].toLowerCase()?R=R.toLowerCase():o(B.fields[K].entries)&&(R=T(R))}if(""===R&&"int"===B.fields[K].type)R=h(d(B.fields[K].entries),p(B.fields[K].entries),u(B.fields[K].entries));if(""===R&&"float"===B.fields[K].type){var ne=d(B.fields[K].entries),re=p(B.fields[K].entries),se=f(B.fields[K].entries);R=Number((Math.random()*re+ne).toFixed(se))}if(""===R&&"char"===B.fields[K].type&&(R=B.fields[K].entries[0]===B.fields[K].entries[0].toUpperCase()?q.letter({casing:"upper"}):B.fields[K].entries[0]===B.fields[K].entries[0].toLowerCase()?q.letter({casing:"lower"}):q.letter()),""===R&&"date"===B.fields[K].type){var ae=x(C(B.fields[K].entries)),le=b(C(B.fields[K].entries));N=ae,U=le,$=void 0,F=void 0,I=void 0,P=void 0,$=new Date(N.getTime()+Math.random()*(U.getTime()-N.getTime())),F=""+($.getMonth()+1),I=""+$.getDate(),P=$.getFullYear(),F.length<2&&(F="0"+F),I.length<2&&(I="0"+I),R=[P,F,I].join("-")}if(""===R&&"datetime"===B.fields[K].type)R=s(x(C(B.fields[K].entries)),b(C(B.fields[K].entries)));""===R&&"time"===B.fields[K].type&&(E=void 0,O=void 0,S=void 0,E=String(r.hour({twentyfour:!0})),O=String(r.minute()),S=String(r.second()),R=[E,O,S].join(":")),(B.fields[K].required||Math.random()>=.5)&&(Q[K]=R)}e[B.key].push(Q)}}}return e}});
//# sourceMappingURL=json-data-extender.umd.js.map
