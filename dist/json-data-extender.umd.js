!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("chance"),require("lodash"),require("txtgen"),require("faker")):"function"==typeof define&&define.amd?define(["chance","lodash","txtgen","faker"],t):t(e.chance,e.lodash,e.txtgen,e.faker)}(this,function(e,t,n,i){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i;var r=new e;function a(e,t){var n=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),i=""+(n.getMonth()+1),r=""+n.getDate(),a=n.getFullYear(),s=n.getHours(),l=n.getMinutes(),f=n.getSeconds();return i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),[a,i,r].join("-")+"T"+[s,l,f].join(":")+"+01:00"}function s(e){var t,n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=[];for(t=n;t<=i;t++)-1==e.indexOf(t)&&r.push(t);return r.length>0&&{start:Math.min.apply(Math,r),end:Math.max.apply(Math,r)}}function l(e){if(!isFinite(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function f(e){for(var t=0,n=0,i=e;n<i.length;n+=1){var r=l(i[n]);r>t&&(t=r)}return t}function o(e){for(var t,n=!0,i=0,r=e;i<r.length;i+=1)if(C(t=r[i])!==t){n=!1;break}return n}function d(e){return Math.min.apply(Math,e)}function p(e){return Math.max.apply(Math,e)}function u(e){for(var t,n,i=999999999,r=0,a=e;r<a.length;r+=1){t=a[r];for(var s=0,l=e;s<l.length;s+=1)t!==(n=l[s])&&Math.abs(t-n)<i&&(i=Math.abs(t-n))}return i}function h(e,t,n){var i,r;return arguments.length<2&&(t=e,e=0),n||(n=1),i=(t-e)/n,r=Math.random(),r*=i,r=Math.floor(r),r*=n,r+=e}function g(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function c(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function y(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function m(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function M(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function v(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function w(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function x(e){return new Date(Math.min.apply(null,e))}function b(e){return new Date(Math.max.apply(null,e))}function j(e){for(var t=[],n=0,i=e;n<i.length;n+=1)t.push(new Date(i[n]));return t}function C(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function T(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function D(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function k(e,t){for(var n,i={},r=[],a=0,s=e;a<s.length;a+=1)void 0===i[n=s[a]]?i[n]=1:i[n]++;for(var l=0,f=t;l<f.length;l+=1)r.push(i[n=f[l]]);return r}var q=new e;n.addTemplates(["congratulations to the {{noun}} that won the {{adjective}} {{noun}} with {{a_noun}}","incomprehensibilities of a {{adjective}} {{noun}} and {{a_noun}} made {{a_noun}} {{adjective}}"]),module.exports=function(e){var l,E,O,S,N,U,$,F,I,P,z=[];for(l in e){var L={key:l,minID:1,maxID:1,totalCount:0,fields:{}},_=void 0,J=void 0;for(_ in e[l])for(J in e[l][_]){var Y=e[l][_][J],H="undefined";"boolean"==typeof Y?H="boolean":"number"==typeof Y?H=Math.round(Y)===Y?"int":"float":"string"==typeof Y?H=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(Y)?"date":T(Y)?"datetime":D(Y)?"time":1===Y.length?"char":"string":"object"==typeof Y&&(H="JSON"),void 0===L.fields[J]?L.fields[J]={types:[H],entries:[Y],allEntries:[Y],cnt:1}:(L.fields[J].types.push(H),L.fields[J].types=t.uniq(L.fields[J].types),L.fields[J].entries.push(Y),L.fields[J].entries=t.uniq(L.fields[J].entries),L.fields[J].allEntries.push(Y),L.fields[J].cnt++)}for(J in L.fields)"id"===J&&(L.totalCount=L.fields[J].cnt),1===L.fields[J].types.length&&(L.fields[J].type=L.fields[J].types[0]),L.fields[J].entries.length<L.fields[J].cnt?(L.fields[J].repeatEntries=!0,L.fields[J].weights=k(L.fields[J].allEntries,L.fields[J].entries)):L.fields[J].repeatEntries=!1,L.fields[J].required=!(L.fields[J].cnt<L.totalCount);L.gap=s(L.fields.id.entries),z.push(L)}for(l in z){var A=z[l];if(A.gap){var B=void 0,G=void 0;for(B=A.gap.start;B<=A.gap.end;B++){var K={};for(G in A.fields){var Q="";if(A.fields[G].repeatEntries&&(Q=q.weighted(A.fields[G].entries,A.fields[G].weights)),"id"===G&&(Q=B),"age"===G&&"int"===A.fields[G].type&&(Q=q.age()),"firstname"===G&&"string"===A.fields[G].type&&(Q=q.first()),"lastname"===G&&"string"===A.fields[G].type&&(Q=q.last()),"company"===G&&"string"===A.fields[G].type&&(Q=q.company()),"country"===G&&"string"===A.fields[G].type&&(Q=q.country()),"email"===G&&"string"===A.fields[G].type&&(Q=i.internet.exampleEmail()),"color"===G&&"string"===A.fields[G].type&&(Q=q.color()),"ip"===G&&"string"===A.fields[G].type&&(Q=q.ip()),"profession"===G&&"string"===A.fields[G].type&&(Q=q.profession()),"url"===G&&"string"===A.fields[G].type&&(Q=q.url()),"city"===G&&"string"===A.fields[G].type&&(Q=q.city()),"street"===G&&"string"===A.fields[G].type&&(Q=q.street()),"zip"===G&&"int"===A.fields[G].type&&(Q=parseInt(q.zip())),"weekday"===G&&"string"===A.fields[G].type&&(Q=q.weekday()),"year"===G&&"int"===A.fields[G].type&&(Q=parseInt(q.year())),"password"===G&&"string"===A.fields[G].type&&(Q=q.hash()),"guid"===G&&"string"===A.fields[G].type&&(Q=q.guid()),"product"===G&&"string"===A.fields[G].type&&(Q=i.commerce.productName()),"material"===G&&"string"===A.fields[G].type&&(Q=i.commerce.productMaterial()),"iban"===G&&"string"===A.fields[G].type&&(Q=i.finance.iban()),"bic"===G&&"string"===A.fields[G].type&&(Q=i.finance.bic()),"avatar"===G&&"string"===A.fields[G].type&&(Q=i.image.avatar()),"username"===G&&"string"===A.fields[G].type&&(Q=i.internet.userName()),"homepage"===G&&"string"===A.fields[G].type&&(Q=i.internet.url()),"job"===G&&"string"===A.fields[G].type&&(Q=i.name.jobTitle()),"mimetype"===G&&"string"===A.fields[G].type&&(Q=i.system.mimeType()),""===Q&&"JSON"===A.fields[G].type&&(Q={}),""===Q&&"string"===A.fields[G].type){var R=Math.min.apply(Math,A.fields[G].entries.map(function(e){return e.length})),V=g(A.fields[G].entries),W=c(A.fields[G].entries),X=y(A.fields[G].entries),Z=m(A.fields[G].entries),ee=M(A.fields[G].entries),te=v(A.fields[G].entries),ne=w(A.fields[G].entries);Q=ne>1?n.article(Math.floor(Math.random()*ne)+te):ee>1?n.paragraph(Math.floor(Math.random()*ee)+Z):X>1?q.sentence({words:Math.floor(Math.random()*X)+W}).slice(0,-1):A.fields[G].entries[0][0].toUpperCase()===A.fields[G].entries[0][0]?q.capitalize(q.word({length:Math.floor(Math.random()*R)+V})):q.string({length:Math.floor(Math.random()*R)+V}),A.fields[G].entries[0]===A.fields[G].entries[0].toUpperCase()?Q=Q.toUpperCase():A.fields[G].entries[0]===A.fields[G].entries[0].toLowerCase()?Q=Q.toLowerCase():o(A.fields[G].entries)&&(Q=C(Q))}if(""===Q&&"int"===A.fields[G].type)Q=h(d(A.fields[G].entries),p(A.fields[G].entries),u(A.fields[G].entries));if(""===Q&&"float"===A.fields[G].type){var ie=d(A.fields[G].entries),re=p(A.fields[G].entries),ae=f(A.fields[G].entries);Q=Number((Math.random()*re+ie).toFixed(ae))}if(""===Q&&"char"===A.fields[G].type&&(Q=A.fields[G].entries[0]===A.fields[G].entries[0].toUpperCase()?q.letter({casing:"upper"}):A.fields[G].entries[0]===A.fields[G].entries[0].toLowerCase()?q.letter({casing:"lower"}):q.letter()),""===Q&&"date"===A.fields[G].type){var se=x(j(A.fields[G].entries)),le=b(j(A.fields[G].entries));N=se,U=le,$=void 0,F=void 0,I=void 0,P=void 0,$=new Date(N.getTime()+Math.random()*(U.getTime()-N.getTime())),F=""+($.getMonth()+1),I=""+$.getDate(),P=$.getFullYear(),F.length<2&&(F="0"+F),I.length<2&&(I="0"+I),Q=[P,F,I].join("-")}if(""===Q&&"datetime"===A.fields[G].type)Q=a(x(j(A.fields[G].entries)),b(j(A.fields[G].entries)));""===Q&&"time"===A.fields[G].type&&(E=void 0,O=void 0,S=void 0,E=String(r.hour({twentyfour:!0})),O=String(r.minute()),S=String(r.second()),Q=[E,O,S].join(":")),(A.fields[G].required||Math.random()>=.5)&&(K[G]=Q)}e[A.key].push(K)}}}return e}});
//# sourceMappingURL=json-data-extender.umd.js.map
