!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("chance"),require("lodash"),require("txtgen"),require("faker"),require("slugify"),require("md5")):"function"==typeof define&&define.amd?define(["chance","lodash","txtgen","faker","slugify","md5"],t):t(e.chance,e.lodash,e.txtgen,e.faker,e.slugify,e.md5)}(this,function(e,t,n,i,r,a){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i,r=r&&r.hasOwnProperty("default")?r.default:r,a=a&&a.hasOwnProperty("default")?a.default:a;var s=new e;function l(e,t){var n=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),i=""+(n.getMonth()+1),r=""+n.getDate(),a=n.getFullYear(),s=n.getHours(),l=n.getMinutes(),f=n.getSeconds();return i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),[a,i,r].join("-")+"T"+[s,l,f].join(":")+"+01:00"}function f(e){var t,n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=[];for(t=n;t<=i;t++)-1==e.indexOf(t)&&r.push(t);return r.length>0&&{start:Math.min.apply(Math,r),end:Math.max.apply(Math,r)}}function o(e){if(!isFinite(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function d(e){for(var t=0,n=0,i=e;n<i.length;n+=1){var r=o(i[n]);r>t&&(t=r)}return t}function p(e){for(var t,n=!0,i=0,r=e;i<r.length;i+=1)if(T(t=r[i])!==t){n=!1;break}return n}function u(e){return Math.min.apply(Math,e)}function h(e){return Math.max.apply(Math,e)}function g(e){for(var t,n,i=999999999,r=0,a=e;r<a.length;r+=1){t=a[r];for(var s=0,l=e;s<l.length;s+=1)t!==(n=l[s])&&Math.abs(t-n)<i&&(i=Math.abs(t-n))}return i}function c(e,t,n){var i,r;return arguments.length<2&&(t=e,e=0),n||(n=1),i=(t-e)/n,r=Math.random(),r*=i,r=Math.floor(r),r*=n,r+=e}function y(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function m(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function M(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function v(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function w(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function x(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function b(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function C(e){return new Date(Math.min.apply(null,e))}function j(e){return new Date(Math.max.apply(null,e))}function S(e){for(var t=[],n=0,i=e;n<i.length;n+=1)t.push(new Date(i[n]));return t}function T(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function q(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function D(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function O(e,t){for(var n,i={},r=[],a=0,s=e;a<s.length;a+=1)void 0===i[n=s[a]]?i[n]=1:i[n]++;for(var l=0,f=t;l<f.length;l+=1)r.push(i[n=f[l]]);return r}var k=new e;n.addTemplates(["congratulations to the {{noun}} that won the {{adjective}} {{noun}} with {{a_noun}}","incomprehensibilities of a {{adjective}} {{noun}} and {{a_noun}} made {{a_noun}} {{adjective}}"]),module.exports=function(e){var o,E,P,L,N,U,$,F,I,z,_=[];for(o in e){var J={key:o,minID:1,maxID:1,totalCount:0,fields:{}},Y=void 0,H=void 0;for(Y in e[o])for(H in e[o][Y]){var A=e[o][Y][H],B="undefined";"boolean"==typeof A?B="boolean":"number"==typeof A?B=Math.round(A)===A?"int":"float":"string"==typeof A?B=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(A)?"date":q(A)?"datetime":D(A)?"time":1===A.length?"char":"string":"object"==typeof A&&(B="JSON"),void 0===J.fields[H]?J.fields[H]={types:[B],entries:[A],allEntries:[A],cnt:1}:(J.fields[H].types.push(B),J.fields[H].types=t.uniq(J.fields[H].types),J.fields[H].entries.push(A),J.fields[H].entries=t.uniq(J.fields[H].entries),J.fields[H].allEntries.push(A),J.fields[H].cnt++)}for(H in J.fields)"id"===H&&(J.totalCount=J.fields[H].cnt),1===J.fields[H].types.length&&(J.fields[H].type=J.fields[H].types[0]),J.fields[H].entries.length<J.fields[H].cnt?(J.fields[H].repeatEntries=!0,J.fields[H].weights=O(J.fields[H].allEntries,J.fields[H].entries)):J.fields[H].repeatEntries=!1,J.fields[H].required=!(J.fields[H].cnt<J.totalCount);J.gap=f(J.fields.id.entries),_.push(J)}for(o in _){var G=_[o];if(G.gap){var K=void 0,Q=void 0;for(K=G.gap.start;K<=G.gap.end;K++){var R={};for(Q in G.fields){var V="";if(G.fields[Q].repeatEntries)V=k.weighted(G.fields[Q].entries,G.fields[Q].weights);else{if("id"===Q&&(V=K),"age"===Q&&"int"===G.fields[Q].type&&(V=k.age()),"firstname"===Q&&"string"===G.fields[Q].type&&(V=k.first()),"lastname"===Q&&"string"===G.fields[Q].type&&(V=k.last()),"company"===Q&&"string"===G.fields[Q].type&&(V=k.company()),"country"===Q&&"string"===G.fields[Q].type&&(V=k.country()),"email"===Q&&"string"===G.fields[Q].type&&(V=i.internet.exampleEmail()),"color"===Q&&"string"===G.fields[Q].type&&(V=k.color()),"ip"===Q&&"string"===G.fields[Q].type&&(V=k.ip()),"profession"===Q&&"string"===G.fields[Q].type&&(V=k.profession()),"url"===Q&&"string"===G.fields[Q].type&&(V=k.url()),"city"===Q&&"string"===G.fields[Q].type&&(V=k.city()),"street"===Q&&"string"===G.fields[Q].type&&(V=k.street()),"zip"===Q&&"int"===G.fields[Q].type&&(V=parseInt(k.zip())),"weekday"===Q&&"string"===G.fields[Q].type&&(V=k.weekday()),"year"===Q&&"int"===G.fields[Q].type&&(V=parseInt(k.year())),"password"===Q&&"string"===G.fields[Q].type&&(V=k.hash()),"guid"===Q&&"string"===G.fields[Q].type&&(V=k.guid()),"product"===Q&&"string"===G.fields[Q].type&&(V=i.commerce.productName()),"material"===Q&&"string"===G.fields[Q].type&&(V=i.commerce.productMaterial()),"iban"===Q&&"string"===G.fields[Q].type&&(V=i.finance.iban()),"bic"===Q&&"string"===G.fields[Q].type&&(V=i.finance.bic()),"avatar"===Q&&"string"===G.fields[Q].type&&(V=i.image.avatar()),"username"===Q&&"string"===G.fields[Q].type&&(V=i.internet.userName()),"homepage"===Q&&"string"===G.fields[Q].type&&(V=i.internet.url()),"job"===Q&&"string"===G.fields[Q].type&&(V=i.name.jobTitle()),"mimetype"===Q&&"string"===G.fields[Q].type&&(V=i.system.mimeType()),""===V&&"JSON"===G.fields[Q].type&&(V={}),""===V&&"string"===G.fields[Q].type){var W=Math.min.apply(Math,G.fields[Q].entries.map(function(e){return e.length})),X=y(G.fields[Q].entries),Z=m(G.fields[Q].entries),ee=M(G.fields[Q].entries),te=v(G.fields[Q].entries),ne=w(G.fields[Q].entries),ie=x(G.fields[Q].entries),re=b(G.fields[Q].entries);V=re>1?n.article(Math.floor(Math.random()*re)+ie):ne>1?n.paragraph(Math.floor(Math.random()*ne)+te):ee>1?k.sentence({words:Math.floor(Math.random()*ee)+Z}).slice(0,-1):G.fields[Q].entries[0][0].toUpperCase()===G.fields[Q].entries[0][0]?k.capitalize(k.word({length:Math.floor(Math.random()*W)+X})):k.string({length:Math.floor(Math.random()*W)+X}),G.fields[Q].entries[0]===G.fields[Q].entries[0].toUpperCase()?V=V.toUpperCase():G.fields[Q].entries[0]===G.fields[Q].entries[0].toLowerCase()?V=V.toLowerCase():p(G.fields[Q].entries)&&(V=T(V))}if(""===V&&"int"===G.fields[Q].type)V=c(u(G.fields[Q].entries),h(G.fields[Q].entries),g(G.fields[Q].entries));if(""===V&&"float"===G.fields[Q].type){var ae=u(G.fields[Q].entries),se=h(G.fields[Q].entries),le=d(G.fields[Q].entries);V=Number((Math.random()*se+ae).toFixed(le))}if(""===V&&"char"===G.fields[Q].type&&(V=G.fields[Q].entries[0]===G.fields[Q].entries[0].toUpperCase()?k.letter({casing:"upper"}):G.fields[Q].entries[0]===G.fields[Q].entries[0].toLowerCase()?k.letter({casing:"lower"}):k.letter()),""===V&&"date"===G.fields[Q].type){var fe=C(S(G.fields[Q].entries)),oe=j(S(G.fields[Q].entries));N=fe,U=oe,$=void 0,F=void 0,I=void 0,z=void 0,$=new Date(N.getTime()+Math.random()*(U.getTime()-N.getTime())),F=""+($.getMonth()+1),I=""+$.getDate(),z=$.getFullYear(),F.length<2&&(F="0"+F),I.length<2&&(I="0"+I),V=[z,F,I].join("-")}if(""===V&&"datetime"===G.fields[Q].type)V=l(C(S(G.fields[Q].entries)),j(S(G.fields[Q].entries)));""===V&&"time"===G.fields[Q].type&&(E=void 0,P=void 0,L=void 0,E=String(s.hour({twentyfour:!0})),P=String(s.minute()),L=String(s.second()),V=[E,P,L].join(":"))}(G.fields[Q].required||Math.random()>=.5)&&(R[Q]=V)}e[G.key].push(R)}}}var de=function(t){var n=function(t){for(var n in e[pe][i]){var s=e[pe][i][n];"string"==typeof s&&(e[pe][i][n]=s.replace(/{{\s*([\w\.\?\|]+)\s*}}/g,function(t,n){var s=n.split("?"),l=s[0].split("|"),f=l[0].split(".");if("field"===f[0]&&2===f.length&&void 0!==e[pe][i][f[1]]){if(l.length>1){var o=l[1];return"slug"===o?r(String(e[pe][i][f[1]]),{lower:!0}):"lower"===o?String(e[pe][i][f[1]]).toLowerCase():"uppper"===o?String(e[pe][i][f[1]]).toLowerCase():"md5"===o?a(String(e[pe][i][f[1]])):e[pe][i][f[1]]}return e[pe][i][f[1]]}return s.length>1?s[1]:t}))}};for(var i in e[pe])n()};for(var pe in e)de();return e}});
//# sourceMappingURL=json-data-extender.umd.js.map
