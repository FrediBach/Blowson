!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i():"function"==typeof define&&define.amd?define(i):i()}(0,function(){var e=require("lodash"),i=require("txtgen"),t=new(require("chance")),s=require("./helpers"),r=s.randomTime,n=s.randomDate,d=s.randomDatetime,l=s.findGap,f=s.getMaxPrecision,a=s.everythingCapitalized,o=s.minNumber,p=s.maxNumber,y=s.minGapOfIntArray,g=s.randomIntWithStep,m=s.minStrLength,u=s.maxStrLength,h=s.minWordCount,c=s.maxWordCount,v=s.minSentenceCount,C=s.maxSentenceCount,M=s.minParagraphCount,w=s.maxParagraphCount,x=s.minDate,S=s.maxDate,D=s.convertStringDateArray,b=s.capitalize,q=s.isDateString,E=s.isDatetimeString,I=s.isTimeString,z=s.getWeights;module.exports=function(s){var L,N=[];for(L in s){var k={key:L,minID:1,maxID:1,totalCount:0,fields:{}},U=void 0,W=void 0;for(U in s[L])for(W in s[L][U]){var O=s[L][U][W],P="undefined";"boolean"==typeof O?P="boolean":"number"==typeof O?P=Math.round(O)===O?"int":"float":"string"==typeof O?P=q(O)?"date":E(O)?"datetime":I(O)?"time":1===O.length?"char":"string":"object"==typeof O&&(P="JSON"),void 0===k.fields[W]?k.fields[W]={types:[P],entries:[O],allEntries:[O],cnt:1}:(k.fields[W].types.push(P),k.fields[W].types=e.uniq(k.fields[W].types),k.fields[W].entries.push(O),k.fields[W].entries=e.uniq(k.fields[W].entries),k.fields[W].allEntries.push(O),k.fields[W].cnt++)}for(W in k.fields)"id"===W&&(k.totalCount=k.fields[W].cnt),1===k.fields[W].types.length&&(k.fields[W].type=k.fields[W].types[0]),k.fields[W].entries.length<k.fields[W].cnt?(k.fields[W].repeatEntries=!0,k.fields[W].weights=z(k.fields[W].allEntries,k.fields[W].entries)):k.fields[W].repeatEntries=!1,k.fields[W].required=!(k.fields[W].cnt<k.totalCount);k.gap=l(k.fields.id.entries),N.push(k)}for(L in N){var j=N[L];if(j.gap){var A=void 0,G=void 0;for(A=j.gap.start;A<=j.gap.end;A++){var J={};for(G in j.fields){var T="";if(j.fields[G].repeatEntries&&(T=t.weighted(j.fields[G].entries,j.fields[G].weights)),"id"===G&&(T=A),"age"===G&&"int"===j.fields[G].type&&(T=t.age()),"firstname"===G&&"string"===j.fields[G].type&&(T=t.first()),"lastname"===G&&"string"===j.fields[G].type&&(T=t.last()),"company"===G&&"string"===j.fields[G].type&&(T=t.company()),"country"===G&&"string"===j.fields[G].type&&(T=t.country()),"email"===G&&"string"===j.fields[G].type&&(T=t.email()),"color"===G&&"string"===j.fields[G].type&&(T=t.color()),"ip"===G&&"string"===j.fields[G].type&&(T=t.ip()),"profession"===G&&"string"===j.fields[G].type&&(T=t.profession()),"url"===G&&"string"===j.fields[G].type&&(T=t.url()),"city"===G&&"string"===j.fields[G].type&&(T=t.city()),"street"===G&&"string"===j.fields[G].type&&(T=t.street()),"zip"===G&&"int"===j.fields[G].type&&(T=parseInt(t.zip())),"weekday"===G&&"string"===j.fields[G].type&&(T=t.weekday()),"year"===G&&"int"===j.fields[G].type&&(T=parseInt(t.year())),"password"===G&&"string"===j.fields[G].type&&(T=t.hash()),"guid"===G&&"string"===j.fields[G].type&&(T=t.guid()),""===T&&"JSON"===j.fields[G].type&&(T={}),""===T&&"string"===j.fields[G].type){var F=m(j.fields[G].entries),B=u(j.fields[G].entries),H=h(j.fields[G].entries),K=c(j.fields[G].entries),Q=v(j.fields[G].entries),R=C(j.fields[G].entries),V=M(j.fields[G].entries),X=w(j.fields[G].entries);T=X>1?i.article(Math.floor(Math.random()*X)+V):R>1?i.paragraph(Math.floor(Math.random()*R)+Q):K>1?t.sentence({words:Math.floor(Math.random()*K)+H}).slice(0,-1):j.fields[G].entries[0][0].toUpperCase()===j.fields[G].entries[0][0]?t.capitalize(t.word({length:Math.floor(Math.random()*F)+B})):t.string({length:Math.floor(Math.random()*F)+B}),j.fields[G].entries[0]===j.fields[G].entries[0].toUpperCase()?T=T.toUpperCase():j.fields[G].entries[0]===j.fields[G].entries[0].toLowerCase()?T=T.toLowerCase():a(j.fields[G].entries)&&(T=b(T))}if(""===T&&"int"===j.fields[G].type){var Y=o(j.fields[G].entries),Z=p(j.fields[G].entries),$=y(j.fields[G].entries);T=g(Y,Z,$)}if(""===T&&"float"===j.fields[G].type){var _=o(j.fields[G].entries),ee=p(j.fields[G].entries),ie=f(j.fields[G].entries);T=Number((Math.random()*ee+_).toFixed(ie))}if(""===T&&"char"===j.fields[G].type&&(T=j.fields[G].entries[0]===j.fields[G].entries[0].toUpperCase()?t.letter({casing:"upper"}):j.fields[G].entries[0]===j.fields[G].entries[0].toLowerCase()?t.letter({casing:"lower"}):t.letter()),""===T&&"date"===j.fields[G].type){var te=x(D(j.fields[G].entries)),se=S(D(j.fields[G].entries));T=n(te,se)}if(""===T&&"datetime"===j.fields[G].type){var re=x(D(j.fields[G].entries)),ne=S(D(j.fields[G].entries));T=d(re,ne)}""===T&&"time"===j.fields[G].type&&(T=r()),(j.fields[G].required||Math.random()>=.5)&&(J[G]=T)}s[j.key].push(J)}}}return s}});
//# sourceMappingURL=json-data-extender.umd.js.map
