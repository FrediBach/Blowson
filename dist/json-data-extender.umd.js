!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("chance"),require("slugify"),require("md5"),require("lodash"),require("txtgen"),require("faker")):"function"==typeof define&&define.amd?define(["chance","slugify","md5","lodash","txtgen","faker"],t):t(e.chance,e.slugify,e.md5,e.lodash,e.txtgen,e.faker)}(this,function(e,t,i,n,r,s){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,i=i&&i.hasOwnProperty("default")?i.default:i,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,s=s&&s.hasOwnProperty("default")?s.default:s;var a=new e;function l(e,t){var i=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),n=""+(i.getMonth()+1),r=""+i.getDate(),s=i.getFullYear(),a=i.getHours(),l=i.getMinutes(),f=i.getSeconds();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[s,n,r].join("-")+"T"+[a,l,f].join(":")+"+01:00"}function f(e){var t,i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=[];for(t=i;t<=n;t++)-1==e.indexOf(t)&&r.push(t);return r.length>0&&{start:Math.min.apply(Math,r),end:Math.max.apply(Math,r)}}function o(e){if(!isFinite(e))return 0;for(var t=1,i=0;Math.round(e*t)/t!==e;)t*=10,i++;return i}function d(e){for(var t=0,i=0,n=e;i<n.length;i+=1){var r=o(n[i]);r>t&&(t=r)}return t}function p(e){for(var t,i=!0,n=0,r=e;n<r.length;n+=1)if(q(t=r[n])!==t){i=!1;break}return i}function u(e){return Math.min.apply(Math,e)}function h(e){return Math.max.apply(Math,e)}function g(e){for(var t,i,n=999999999,r=0,s=e;r<s.length;r+=1){t=s[r];for(var a=0,l=e;a<l.length;a+=1)t!==(i=l[a])&&Math.abs(t-i)<n&&(n=Math.abs(t-i))}return n}function y(e,t,i){var n,r;return arguments.length<2&&(t=e,e=0),i||(i=1),n=(t-e)/i,r=Math.random(),r*=n,r=Math.floor(r),r*=i,r+=e}function c(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function m(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function M(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function v(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function w(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function x(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function b(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function C(e){return new Date(Math.min.apply(null,e))}function j(e){return new Date(Math.max.apply(null,e))}function T(e){for(var t=[],i=0,n=e;i<n.length;i+=1)t.push(new Date(n[i]));return t}function q(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function D(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function O(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function k(e,t){for(var i,n={},r=[],s=0,a=e;s<a.length;s+=1)void 0===n[i=a[s]]?n[i]=1:n[i]++;for(var l=0,f=t;l<f.length;l+=1)r.push(n[i=f[l]]);return r}function S(e,n){return e=String(e),"slug"===n?t(e,{lower:!0}):"lower"===n?e.toLowerCase():"uppper"===n?e.toLowerCase():"md5"===n?i(e):e}var E=new e;r.addTemplates(["congratulations to the {{noun}} that won the {{adjective}} {{noun}} with {{a_noun}}","incomprehensibilities of a {{adjective}} {{noun}} and {{a_noun}} made {{a_noun}} {{adjective}}"]),module.exports=function(e){var t,i,o,P,L,N,U,$,_,F,I,z,J=[];for(t in e){var Y={key:t,minID:1,maxID:1,totalCount:0,fields:{}},H=void 0,A=void 0;for(H in e[t])for(A in e[t][H]){var B=e[t][H][A],G="undefined";"boolean"==typeof B?G="boolean":"number"==typeof B?G=Math.round(B)===B?"int":"float":"string"==typeof B?G=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(B)?"date":D(B)?"datetime":O(B)?"time":1===B.length?"char":"string":"object"==typeof B&&(G="JSON"),void 0===Y.fields[A]?Y.fields[A]={types:[G],entries:[B],allEntries:[B],cnt:1}:(Y.fields[A].types.push(G),Y.fields[A].types=n.uniq(Y.fields[A].types),Y.fields[A].entries.push(B),Y.fields[A].entries=n.uniq(Y.fields[A].entries),Y.fields[A].allEntries.push(B),Y.fields[A].cnt++)}for(A in Y.fields)"id"===A&&(Y.totalCount=Y.fields[A].cnt),1===Y.fields[A].types.length&&(Y.fields[A].type=Y.fields[A].types[0]),Y.fields[A].entries.length<Y.fields[A].cnt?(Y.fields[A].repeatEntries=!0,Y.fields[A].weights=k(Y.fields[A].allEntries,Y.fields[A].entries)):Y.fields[A].repeatEntries=!1,Y.fields[A].required=!(Y.fields[A].cnt<Y.totalCount);Y.gap=f(Y.fields.id.entries),J.push(Y)}for(t in J){var K=J[t];if(K.gap){var Q=void 0,R=void 0;for(Q=K.gap.start;Q<=K.gap.end;Q++){var V={};for(R in K.fields){var W="";if(K.fields[R].repeatEntries)W=E.weighted(K.fields[R].entries,K.fields[R].weights);else{if("id"===R&&(W=Q),"age"===R&&"int"===K.fields[R].type&&(W=E.age()),"firstname"===R&&"string"===K.fields[R].type&&(W=E.first()),"lastname"===R&&"string"===K.fields[R].type&&(W=E.last()),"company"===R&&"string"===K.fields[R].type&&(W=E.company()),"country"===R&&"string"===K.fields[R].type&&(W=E.country()),"email"===R&&"string"===K.fields[R].type&&(W=s.internet.exampleEmail()),"color"===R&&"string"===K.fields[R].type&&(W=E.color()),"ip"===R&&"string"===K.fields[R].type&&(W=E.ip()),"profession"===R&&"string"===K.fields[R].type&&(W=E.profession()),"url"===R&&"string"===K.fields[R].type&&(W=E.url()),"city"===R&&"string"===K.fields[R].type&&(W=E.city()),"street"===R&&"string"===K.fields[R].type&&(W=E.street()),"zip"===R&&"int"===K.fields[R].type&&(W=parseInt(E.zip())),"weekday"===R&&"string"===K.fields[R].type&&(W=E.weekday()),"year"===R&&"int"===K.fields[R].type&&(W=parseInt(E.year())),"password"===R&&"string"===K.fields[R].type&&(W=E.hash()),"guid"===R&&"string"===K.fields[R].type&&(W=E.guid()),"product"===R&&"string"===K.fields[R].type&&(W=s.commerce.productName()),"material"===R&&"string"===K.fields[R].type&&(W=s.commerce.productMaterial()),"iban"===R&&"string"===K.fields[R].type&&(W=s.finance.iban()),"bic"===R&&"string"===K.fields[R].type&&(W=s.finance.bic()),"avatar"===R&&"string"===K.fields[R].type&&(W=s.image.avatar()),"username"===R&&"string"===K.fields[R].type&&(W=s.internet.userName()),"homepage"===R&&"string"===K.fields[R].type&&(W=s.internet.url()),"job"===R&&"string"===K.fields[R].type&&(W=s.name.jobTitle()),"mimetype"===R&&"string"===K.fields[R].type&&(W=s.system.mimeType()),""===W&&"JSON"===K.fields[R].type&&(W={}),""===W&&"string"===K.fields[R].type){var X=Math.min.apply(Math,K.fields[R].entries.map(function(e){return e.length})),Z=c(K.fields[R].entries),ee=m(K.fields[R].entries),te=M(K.fields[R].entries),ie=v(K.fields[R].entries),ne=w(K.fields[R].entries),re=x(K.fields[R].entries),se=b(K.fields[R].entries);W=se>1?r.article(Math.floor(Math.random()*se)+re):ne>1?r.paragraph(Math.floor(Math.random()*ne)+ie):te>1?E.sentence({words:Math.floor(Math.random()*te)+ee}).slice(0,-1):K.fields[R].entries[0][0].toUpperCase()===K.fields[R].entries[0][0]?E.capitalize(E.word({length:Math.floor(Math.random()*X)+Z})):E.string({length:Math.floor(Math.random()*X)+Z}),K.fields[R].entries[0]===K.fields[R].entries[0].toUpperCase()?W=W.toUpperCase():K.fields[R].entries[0]===K.fields[R].entries[0].toLowerCase()?W=W.toLowerCase():p(K.fields[R].entries)&&(W=q(W))}if(""===W&&"int"===K.fields[R].type)W=y(u(K.fields[R].entries),h(K.fields[R].entries),g(K.fields[R].entries));if(""===W&&"float"===K.fields[R].type){var ae=u(K.fields[R].entries),le=h(K.fields[R].entries),fe=d(K.fields[R].entries);W=Number((Math.random()*le+ae).toFixed(fe))}if(""===W&&"char"===K.fields[R].type&&(W=K.fields[R].entries[0]===K.fields[R].entries[0].toUpperCase()?E.letter({casing:"upper"}):K.fields[R].entries[0]===K.fields[R].entries[0].toLowerCase()?E.letter({casing:"lower"}):E.letter()),""===W&&"date"===K.fields[R].type){var oe=C(T(K.fields[R].entries)),de=j(T(K.fields[R].entries));U=oe,$=de,_=void 0,F=void 0,I=void 0,z=void 0,_=new Date(U.getTime()+Math.random()*($.getTime()-U.getTime())),F=""+(_.getMonth()+1),I=""+_.getDate(),z=_.getFullYear(),F.length<2&&(F="0"+F),I.length<2&&(I="0"+I),W=[z,F,I].join("-")}if(""===W&&"datetime"===K.fields[R].type)W=l(C(T(K.fields[R].entries)),j(T(K.fields[R].entries)));""===W&&"time"===K.fields[R].type&&(P=void 0,L=void 0,N=void 0,P=String(a.hour({twentyfour:!0})),L=String(a.minute()),N=String(a.second()),W=[P,L,N].join(":"))}(K.fields[R].required||Math.random()>=.5)&&(V[R]=W)}e[K.key].push(V)}}}for(t in e)for(i in e[t])for(o in e[t][i]){var pe=e[t][i][o];"string"==typeof pe&&(e[t][i][o]=pe.replace(/{{\s*([\w\.\?\|]+)\s*}}/g,function(n,r){var s=r.split("?"),a=s[0].split("|"),l=a[0].split(".");if("field"===l[0]&&2===l.length&&void 0!==e[t][i][l[1]])return a.length>1?S(e[t][i][l[1]],a[1]):e[t][i][l[1]];if("field"===l[0]&&3===l.length&&void 0!==e[t][i][l[1]+"_id"]&&void 0!==e[l[1]+"s"]){var f,o,d=e[t][i][l[1]+"_id"],p=l[1]+"s",u=!1;for(f in e[p])for(o in e[p][f]){if(u&&o===l[2])return a.length>1?S(e[p][f][o],a[1]):e[p][f][o];"id"===o&&e[p][f][o]===d&&(u=!0)}if(s.length>1)return s[1]}else if(s.length>1)return s[1];return n}))}return e}});
//# sourceMappingURL=json-data-extender.umd.js.map
