!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("chance"),require("lodash"),require("txtgen")):"function"==typeof define&&define.amd?define(["chance","lodash","txtgen"],t):t(e.chance,e.lodash,e.txtgen)}(this,function(e,t,n){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var i=new e;function r(e,t){var n=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),i=""+(n.getMonth()+1),r=""+n.getDate(),s=n.getFullYear(),a=n.getHours(),l=n.getMinutes(),f=n.getSeconds();return i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),[s,i,r].join("-")+"T"+[a,l,f].join(":")+"+01:00"}function s(e){var t,n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=[];for(t=n;t<=i;t++)-1==e.indexOf(t)&&r.push(t);return r.length>0&&{start:Math.min.apply(Math,r),end:Math.max.apply(Math,r)}}function a(e){if(!isFinite(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function l(e){for(var t=0,n=0,i=e;n<i.length;n+=1){var r=a(i[n]);r>t&&(t=r)}return t}function f(e){for(var t,n=!0,i=0,r=e;i<r.length;i+=1)if(b(t=r[i])!==t){n=!1;break}return n}function o(e){return Math.min.apply(Math,e)}function d(e){return Math.max.apply(Math,e)}function p(e){for(var t,n,i=999999999,r=0,s=e;r<s.length;r+=1){t=s[r];for(var a=0,l=e;a<l.length;a+=1)t!==(n=l[a])&&Math.abs(t-n)<i&&(i=Math.abs(t-n))}return i}function u(e,t,n){var i,r;return arguments.length<2&&(t=e,e=0),n||(n=1),i=(t-e)/n,r=Math.random(),r*=i,r=Math.floor(r),r*=n,r+=e}function h(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function g(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function y(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function c(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function m(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function M(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function v(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function w(e){return new Date(Math.min.apply(null,e))}function x(e){return new Date(Math.max.apply(null,e))}function C(e){for(var t=[],n=0,i=e;n<i.length;n+=1)t.push(new Date(i[n]));return t}function b(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function D(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function T(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function q(e,t){for(var n,i={},r=[],s=0,a=e;s<a.length;s+=1)void 0===i[n=a[s]]?i[n]=1:i[n]++;for(var l=0,f=t;l<f.length;l+=1)r.push(i[n=f[l]]);return r}var S=new e;module.exports=function(e){var a,j,E,O,k,U,$,F,I,z,L=[];for(a in e){var N={key:a,minID:1,maxID:1,totalCount:0,fields:{}},P=void 0,J=void 0;for(P in e[a])for(J in e[a][P]){var Y=e[a][P][J],H="undefined";"boolean"==typeof Y?H="boolean":"number"==typeof Y?H=Math.round(Y)===Y?"int":"float":"string"==typeof Y?H=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(Y)?"date":D(Y)?"datetime":T(Y)?"time":1===Y.length?"char":"string":"object"==typeof Y&&(H="JSON"),void 0===N.fields[J]?N.fields[J]={types:[H],entries:[Y],allEntries:[Y],cnt:1}:(N.fields[J].types.push(H),N.fields[J].types=t.uniq(N.fields[J].types),N.fields[J].entries.push(Y),N.fields[J].entries=t.uniq(N.fields[J].entries),N.fields[J].allEntries.push(Y),N.fields[J].cnt++)}for(J in N.fields)"id"===J&&(N.totalCount=N.fields[J].cnt),1===N.fields[J].types.length&&(N.fields[J].type=N.fields[J].types[0]),N.fields[J].entries.length<N.fields[J].cnt?(N.fields[J].repeatEntries=!0,N.fields[J].weights=q(N.fields[J].allEntries,N.fields[J].entries)):N.fields[J].repeatEntries=!1,N.fields[J].required=!(N.fields[J].cnt<N.totalCount);N.gap=s(N.fields.id.entries),L.push(N)}for(a in L){var A=L[a];if(A.gap){var B=void 0,G=void 0;for(B=A.gap.start;B<=A.gap.end;B++){var K={};for(G in A.fields){var Q="";if(A.fields[G].repeatEntries&&(Q=S.weighted(A.fields[G].entries,A.fields[G].weights)),"id"===G&&(Q=B),"age"===G&&"int"===A.fields[G].type&&(Q=S.age()),"firstname"===G&&"string"===A.fields[G].type&&(Q=S.first()),"lastname"===G&&"string"===A.fields[G].type&&(Q=S.last()),"company"===G&&"string"===A.fields[G].type&&(Q=S.company()),"country"===G&&"string"===A.fields[G].type&&(Q=S.country()),"email"===G&&"string"===A.fields[G].type&&(Q=S.email()),"color"===G&&"string"===A.fields[G].type&&(Q=S.color()),"ip"===G&&"string"===A.fields[G].type&&(Q=S.ip()),"profession"===G&&"string"===A.fields[G].type&&(Q=S.profession()),"url"===G&&"string"===A.fields[G].type&&(Q=S.url()),"city"===G&&"string"===A.fields[G].type&&(Q=S.city()),"street"===G&&"string"===A.fields[G].type&&(Q=S.street()),"zip"===G&&"int"===A.fields[G].type&&(Q=parseInt(S.zip())),"weekday"===G&&"string"===A.fields[G].type&&(Q=S.weekday()),"year"===G&&"int"===A.fields[G].type&&(Q=parseInt(S.year())),"password"===G&&"string"===A.fields[G].type&&(Q=S.hash()),"guid"===G&&"string"===A.fields[G].type&&(Q=S.guid()),""===Q&&"JSON"===A.fields[G].type&&(Q={}),""===Q&&"string"===A.fields[G].type){var R=Math.min.apply(Math,A.fields[G].entries.map(function(e){return e.length})),V=h(A.fields[G].entries),W=g(A.fields[G].entries),X=y(A.fields[G].entries),Z=c(A.fields[G].entries),_=m(A.fields[G].entries),ee=M(A.fields[G].entries),te=v(A.fields[G].entries);Q=te>1?n.article(Math.floor(Math.random()*te)+ee):_>1?n.paragraph(Math.floor(Math.random()*_)+Z):X>1?S.sentence({words:Math.floor(Math.random()*X)+W}).slice(0,-1):A.fields[G].entries[0][0].toUpperCase()===A.fields[G].entries[0][0]?S.capitalize(S.word({length:Math.floor(Math.random()*R)+V})):S.string({length:Math.floor(Math.random()*R)+V}),A.fields[G].entries[0]===A.fields[G].entries[0].toUpperCase()?Q=Q.toUpperCase():A.fields[G].entries[0]===A.fields[G].entries[0].toLowerCase()?Q=Q.toLowerCase():f(A.fields[G].entries)&&(Q=b(Q))}if(""===Q&&"int"===A.fields[G].type)Q=u(o(A.fields[G].entries),d(A.fields[G].entries),p(A.fields[G].entries));if(""===Q&&"float"===A.fields[G].type){var ne=o(A.fields[G].entries),ie=d(A.fields[G].entries),re=l(A.fields[G].entries);Q=Number((Math.random()*ie+ne).toFixed(re))}if(""===Q&&"char"===A.fields[G].type&&(Q=A.fields[G].entries[0]===A.fields[G].entries[0].toUpperCase()?S.letter({casing:"upper"}):A.fields[G].entries[0]===A.fields[G].entries[0].toLowerCase()?S.letter({casing:"lower"}):S.letter()),""===Q&&"date"===A.fields[G].type){var se=w(C(A.fields[G].entries)),ae=x(C(A.fields[G].entries));k=se,U=ae,$=void 0,F=void 0,I=void 0,z=void 0,$=new Date(k.getTime()+Math.random()*(U.getTime()-k.getTime())),F=""+($.getMonth()+1),I=""+$.getDate(),z=$.getFullYear(),F.length<2&&(F="0"+F),I.length<2&&(I="0"+I),Q=[z,F,I].join("-")}if(""===Q&&"datetime"===A.fields[G].type)Q=r(w(C(A.fields[G].entries)),x(C(A.fields[G].entries)));""===Q&&"time"===A.fields[G].type&&(j=void 0,E=void 0,O=void 0,j=String(i.hour({twentyfour:!0})),E=String(i.minute()),O=String(i.second()),Q=[j,E,O].join(":")),(A.fields[G].required||Math.random()>=.5)&&(K[G]=Q)}e[A.key].push(K)}}}return e}});
//# sourceMappingURL=json-data-extender.umd.js.map
