!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("chance"),require("slugify"),require("md5"),require("lodash"),require("faker")):"function"==typeof define&&define.amd?define(["chance","slugify","md5","lodash","faker"],t):t(e.chance,e.slugify,e.md5,e.lodash,e.faker)}(this,function(e,t,n,i,a){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i,a=a&&a.hasOwnProperty("default")?a.default:a;var r=function(e,t){var n=e,i=t-e+1;return Math.floor(Math.random()*i)+n},o=function(e){for(var t;!t;)t=e[r(0,e.length-1)];return t},s=function(e){var t="a";return e.match(/^(a|e|i|o)/)&&(t="an"),t+" "+e},l=["alligator","ant","bear","bee","bird","camel","cat","cheetah","chicken","chimpanzee","cow","crocodile","deer","dog","dolphin","duck","eagle","elephant","fish","fly","fox","frog","giraffe","goat","goldfish","hamster","hippopotamus","horse","kangaroo","kitten","lion","lobster","monkey","octopus","owl","panda","pig","puppy","rabbit","rat","scorpion","seal","shark","sheep","snail","snake","spider","squirrel","tiger","turtle","wolf","zebra","apple","apricot","banana","blackberry","blueberry","cherry","cranberry","currant","fig","grape","grapefruit","grapes","kiwi","kumquat","lemon","lime","melon","nectarine","orange","peach","pear","persimmon","pineapple","plum","pomegranate","prune","raspberry","strawberry","tangerine","watermelon"],u=["adaptable","adventurous","affable","affectionate","agreeable","alert","alluring","ambitious","ambitious","amiable","amicable","amused","amusing","boundless","brave","brave","bright","bright","broad-minded","calm","calm","capable","careful","charming","charming","cheerful","coherent","comfortable","communicative","compassionate","confident","conscientious","considerate","convivial","cooperative","courageous","courageous","courteous","creative","credible","cultured","dashing","dazzling","debonair","decisive","decisive","decorous","delightful","detailed","determined","determined","diligent","diligent","diplomatic","discreet","discreet","dynamic","dynamic","eager","easygoing","efficient","elated","eminent","emotional","enchanting","encouraging","endurable","energetic","energetic","entertaining","enthusiastic","enthusiastic","excellent","excited","exclusive","exuberant","exuberant","fabulous","fair","fair-minded","faithful","faithful","fantastic","fearless","fearless","fine","forceful","frank","frank","friendly","friendly","funny","funny","generous","generous","gentle","gentle","glorious","good","good","gregarious","happy","hard-working","harmonious","helpful","helpful","hilarious","honest","honorable","humorous","imaginative","impartial","impartial","independent","industrious","instinctive","intellectual","intelligent","intuitive","inventive","jolly","joyous","kind","kind","kind-hearted","knowledgeable","level","likeable","lively","lovely","loving","loving","loyal","lucky","mature","modern","modest","neat","nice","nice","obedient","optimistic","painstaking","passionate","patient","peaceful","perfect","persistent","philosophical","pioneering","placid","placid","plausible","pleasant","plucky","plucky","polite","powerful","practical","pro-active","productive","protective","proud","punctual","quick-witted","quiet","quiet","rational","receptive","reflective","reliable","relieved","reserved","resolute","resourceful","responsible","rhetorical","righteous","romantic","romantic","sedate","seemly","selective","self-assured","self-confident","self-disciplined","sensible","sensitive","sensitive","shrewd","shy","silly","sincere","sincere","skillful","smiling","sociable","splendid","steadfast","stimulating","straightforward","successful","succinct","sympathetic","talented","thoughtful","thoughtful","thrifty","tidy","tough","tough","trustworthy","unassuming","unbiased","understanding","unusual","upbeat","versatile","vigorous","vivacious","warm","warmhearted","willing","willing","wise","witty","witty","wonderful"],d=["a","e","i","o","u","y"],f=["the {{noun}} is {{a_noun}}","{{a_noun}} is {{an_adjective}} {{noun}}","the first {{adjective}} {{noun}} is, in its own way, {{a_noun}}","their {{noun}} was, in this moment, {{an_adjective}} {{noun}}","{{a_noun}} is {{a_noun}} from the right perspective","the literature would have us believe that {{an_adjective}} {{noun}} is not but {{a_noun}}","{{an_adjective}} {{noun}} is {{a_noun}} of the mind","the {{adjective}} {{noun}} reveals itself as {{an_adjective}} {{noun}} to those who look","authors often misinterpret the {{noun}} as {{an_adjective}} {{noun}}, when in actuality it feels more like {{an_adjective}} {{noun}}","we can assume that any instance of {{a_noun}} can be construed as {{an_adjective}} {{noun}}","they were lost without the {{adjective}} {{noun}} that composed their {{noun}}","the {{adjective}} {{noun}} comes from {{an_adjective}} {{noun}}","{{a_noun}} can hardly be considered {{an_adjective}} {{noun}} without also being {{a_noun}}","few can name {{an_adjective}} {{noun}} that isn't {{an_adjective}} {{noun}}","some posit the {{adjective}} {{noun}} to be less than {{adjective}}","{{a_noun}} of the {{noun}} is assumed to be {{an_adjective}} {{noun}}","{{a_noun}} sees {{a_noun}} as {{an_adjective}} {{noun}}","the {{noun}} of {{a_noun}} becomes {{an_adjective}} {{noun}}","{{a_noun}} is {{a_noun}}'s {{noun}}","{{a_noun}} is the {{noun}} of {{a_noun}}","{{an_adjective}} {{noun}}'s {{noun}} comes with it the thought that the {{adjective}} {{noun}} is {{a_noun}}","{{nouns}} are {{adjective}} {{nouns}}","{{adjective}} {{nouns}} show us how {{nouns}} can be {{nouns}}","before {{nouns}}, {{nouns}} were only {{nouns}}","those {{nouns}} are nothing more than {{nouns}}","some {{adjective}} {{nouns}} are thought of simply as {{nouns}}","one cannot separate {{nouns}} from {{adjective}} {{nouns}}","the {{nouns}} could be said to resemble {{adjective}} {{nouns}}","{{an_adjective}} {{noun}} without {{nouns}} is truly a {{noun}} of {{adjective}} {{nouns}}"],c=["to be more specific, ","in recent years, ","however, ","by the way","of course, ","some assert that ","if this was somewhat unclear, ","unfortunately, that is wrong; on the contrary, ","it's very tricky, if not impossible, ","this could be, or perhaps ","this is not to discredit the idea that ","we know that ","it's an undeniable fact, really; ","framed in a different way, ","what we don't know for sure is whether or not ","as far as we can estimate, ","as far as he is concerned, ","the zeitgeist contends that ","though we assume the latter, ","far from the truth, ","extending this logic, ","nowhere is it disputed that ","in modern times ","in ancient times ","recent controversy aside, ","washing and polishing the car,","having been a gymnast, ","after a long day at school and work, ","waking to the buzz of the alarm clock, ","draped neatly on a hanger, ","shouting with happiness, "],h=["noun","a_noun","nouns","adjective","an_adjective"],p={noun:function(){return o(l)},a_noun:function(){return s(o(l))},nouns:function(){return(e=o(l)).endsWith("s")?e:(e.match(/(ss|ish|ch|x|us)$/)?e+="e":e.endsWith("y")&&!d.includes(e.charAt(e.length-2))&&(e=e.slice(0,e.length-1),e+="ie"),e+"s");var e},adjective:function(){return o(u)},an_adjective:function(){return s(o(u))}},g=function(){return function(e){var t=e,n=e.match(/\{\{(.+?)\}\}/g);if(n&&n.length)for(var i=0;i<n.length;i++){var a=n[i].replace("{{","").replace("}}","").replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").replace(/\r?\n|\r/g," ").replace(/\s\s+|\r/g," "),r=void 0;h.includes(a)&&(r=p[a]()),t=t.replace(n[i],r)}return t}(o(f))},m=function(){var e,t=(Math.random()<.33?o(c):"")+g();return t=t.charAt(0).toUpperCase()+t.slice(1),t+=(e=".......!?!?;...".split(""),o(e))},y=function(e){void 0===e&&(e=0),e||(e=r(3,10));for(var t=Math.min(e,15),n=[];n.length<t;){var i=m();n.push(i)}return n.join(" ")},v=function(e){void 0===e&&(e=0),e||(e=r(3,10));for(var t=Math.min(e,15),n=[];n.length<t;){var i=y();n.push(i)}return n.join("\n\n")},w=new e;function b(e,t){var n=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),i=""+(n.getMonth()+1),a=""+n.getDate(),r=n.getFullYear(),o=n.getHours(),s=n.getMinutes(),l=n.getSeconds();return i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),[r,i,a].join("-")+"T"+[o,s,l].join(":")+"+01:00"}function M(e){var t,n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),a=[];for(t=n;t<=i;t++)-1==e.indexOf(t)&&a.push(t);return a.length>0&&{start:Math.min.apply(Math,a),end:Math.max.apply(Math,a)}}function j(e){if(!isFinite(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function _(e){for(var t=0,n=0,i=e;n<i.length;n+=1){var a=j(i[n]);a>t&&(t=a)}return t}function k(e){for(var t,n=!0,i=0,a=e;i<a.length;i+=1)if(F(t=a[i])!==t){n=!1;break}return n}function x(e){return Math.min.apply(Math,e)}function q(e){return Math.max.apply(Math,e)}function C(e){for(var t,n,i=999999999,a=0,r=e;a<r.length;a+=1){t=r[a];for(var o=0,s=e;o<s.length;o+=1)t!==(n=s[o])&&Math.abs(t-n)<i&&(i=Math.abs(t-n))}return i}function z(e,t,n){var i,a;return arguments.length<2&&(t=e,e=0),n||(n=1),i=(t-e)/n,a=Math.random(),a*=i,a=Math.floor(a),a*=n,a+=e}function T(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function D(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function O(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function S(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function E(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function $(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function U(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function L(e){return new Date(Math.min.apply(null,e))}function N(e){return new Date(Math.max.apply(null,e))}function P(e){for(var t=[],n=0,i=e;n<i.length;n+=1)t.push(new Date(i[n]));return t}function F(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function I(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function A(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function J(e,t){for(var n,i={},a=[],r=0,o=e;r<o.length;r+=1)void 0===i[n=o[r]]?i[n]=1:i[n]++;for(var s=0,l=t;s<l.length;s+=1)a.push(i[n=l[s]]);return a}function W(e,i){return e=String(e),"slug"===i?t(e,{lower:!0}):"lower"===i?e.toLowerCase():"uppper"===i?e.toLowerCase():"md5"===i?n(e):"capitalize"===i?F(e):"optional"===i&&Math.random()>=.5?"":e}var Y,H=new e;Y=f.concat(["congratulations to the {{noun}} that won the {{adjective}} {{noun}} with {{a_noun}}","incomprehensibilities of a {{adjective}} {{noun}} and {{a_noun}} made {{a_noun}} {{adjective}}"]),f=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(Y),module.exports=function(e){var t,n,r,o,s,l,u,d,f,c,h,g,m=[];for(t in e){var j={key:t,minID:1,maxID:1,totalCount:0,fields:{}},Y=void 0,B=void 0;for(Y in e[t])for(B in e[t][Y]){var G=e[t][Y][B],K="undefined";"boolean"==typeof G?K="boolean":"number"==typeof G?K=Math.round(G)===G?"int":"float":"string"==typeof G?K=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(G)?"date":I(G)?"datetime":A(G)?"time":1===G.length?"char":"string":"object"==typeof G&&(K="JSON"),void 0===j.fields[B]?j.fields[B]={types:[K],entries:[G],allEntries:[G],cnt:1}:(j.fields[B].types.push(K),j.fields[B].types=i.uniq(j.fields[B].types),j.fields[B].entries.push(G),j.fields[B].entries=i.uniq(j.fields[B].entries),j.fields[B].allEntries.push(G),j.fields[B].cnt++)}for(B in j.fields)"id"===B&&(j.totalCount=j.fields[B].cnt),1===j.fields[B].types.length&&(j.fields[B].type=j.fields[B].types[0]),j.fields[B].entries.length<j.fields[B].cnt?(j.fields[B].repeatEntries=!0,j.fields[B].weights=J(j.fields[B].allEntries,j.fields[B].entries)):j.fields[B].repeatEntries=!1,j.fields[B].required=!(j.fields[B].cnt<j.totalCount);j.gap=M(j.fields.id.entries),m.push(j)}for(t in m){var Q=m[t];if(Q.gap){var R=void 0,V=void 0;for(R=Q.gap.start;R<=Q.gap.end;R++){var X={};for(V in Q.fields){var Z="";if(Q.fields[V].repeatEntries)Z=H.weighted(Q.fields[V].entries,Q.fields[V].weights);else{if("id"===V&&(Z=R),"age"===V&&"int"===Q.fields[V].type&&(Z=H.age()),"firstname"===V&&"string"===Q.fields[V].type&&(Z=H.first()),"lastname"===V&&"string"===Q.fields[V].type&&(Z=H.last()),"company"===V&&"string"===Q.fields[V].type&&(Z=H.company()),"country"===V&&"string"===Q.fields[V].type&&(Z=H.country()),"email"===V&&"string"===Q.fields[V].type&&(Z=a.internet.exampleEmail()),"color"===V&&"string"===Q.fields[V].type&&(Z=H.color()),"ip"===V&&"string"===Q.fields[V].type&&(Z=H.ip()),"profession"===V&&"string"===Q.fields[V].type&&(Z=H.profession()),"url"===V&&"string"===Q.fields[V].type&&(Z=H.url()),"city"===V&&"string"===Q.fields[V].type&&(Z=H.city()),"street"===V&&"string"===Q.fields[V].type&&(Z=H.street()),"zip"===V&&"int"===Q.fields[V].type&&(Z=parseInt(H.zip())),"weekday"===V&&"string"===Q.fields[V].type&&(Z=H.weekday()),"year"===V&&"int"===Q.fields[V].type&&(Z=parseInt(H.year())),"password"===V&&"string"===Q.fields[V].type&&(Z=H.hash()),"guid"===V&&"string"===Q.fields[V].type&&(Z=H.guid()),"product"===V&&"string"===Q.fields[V].type&&(Z=a.commerce.productName()),"material"===V&&"string"===Q.fields[V].type&&(Z=a.commerce.productMaterial()),"iban"===V&&"string"===Q.fields[V].type&&(Z=a.finance.iban()),"bic"===V&&"string"===Q.fields[V].type&&(Z=a.finance.bic()),"avatar"===V&&"string"===Q.fields[V].type&&(Z=a.image.avatar()),"username"===V&&"string"===Q.fields[V].type&&(Z=a.internet.userName()),"homepage"===V&&"string"===Q.fields[V].type&&(Z=a.internet.url()),"job"===V&&"string"===Q.fields[V].type&&(Z=a.name.jobTitle()),"mimetype"===V&&"string"===Q.fields[V].type&&(Z=a.system.mimeType()),""===Z&&"JSON"===Q.fields[V].type&&(Z={}),""===Z&&"string"===Q.fields[V].type){var ee=Math.min.apply(Math,Q.fields[V].entries.map(function(e){return e.length})),te=T(Q.fields[V].entries),ne=D(Q.fields[V].entries),ie=O(Q.fields[V].entries),ae=S(Q.fields[V].entries),re=E(Q.fields[V].entries),oe=$(Q.fields[V].entries),se=U(Q.fields[V].entries);Z=se>1?v(Math.floor(Math.random()*se)+oe):re>1?y(Math.floor(Math.random()*re)+ae):ie>1?H.sentence({words:Math.floor(Math.random()*ie)+ne}).slice(0,-1):Q.fields[V].entries[0][0].toUpperCase()===Q.fields[V].entries[0][0]?H.capitalize(H.word({length:Math.floor(Math.random()*ee)+te})):H.string({length:Math.floor(Math.random()*ee)+te}),Q.fields[V].entries[0]===Q.fields[V].entries[0].toUpperCase()?Z=Z.toUpperCase():Q.fields[V].entries[0]===Q.fields[V].entries[0].toLowerCase()?Z=Z.toLowerCase():k(Q.fields[V].entries)&&(Z=F(Z))}if(""===Z&&"int"===Q.fields[V].type)Z=z(x(Q.fields[V].entries),q(Q.fields[V].entries),C(Q.fields[V].entries));if(""===Z&&"float"===Q.fields[V].type){var le=x(Q.fields[V].entries),ue=q(Q.fields[V].entries),de=_(Q.fields[V].entries);Z=Number((Math.random()*ue+le).toFixed(de))}if(""===Z&&"char"===Q.fields[V].type&&(Z=Q.fields[V].entries[0]===Q.fields[V].entries[0].toUpperCase()?H.letter({casing:"upper"}):Q.fields[V].entries[0]===Q.fields[V].entries[0].toLowerCase()?H.letter({casing:"lower"}):H.letter()),""===Z&&"date"===Q.fields[V].type){var fe=L(P(Q.fields[V].entries)),ce=N(P(Q.fields[V].entries));u=fe,d=ce,f=void 0,c=void 0,h=void 0,g=void 0,f=new Date(u.getTime()+Math.random()*(d.getTime()-u.getTime())),c=""+(f.getMonth()+1),h=""+f.getDate(),g=f.getFullYear(),c.length<2&&(c="0"+c),h.length<2&&(h="0"+h),Z=[g,c,h].join("-")}if(""===Z&&"datetime"===Q.fields[V].type)Z=b(L(P(Q.fields[V].entries)),N(P(Q.fields[V].entries)));""===Z&&"time"===Q.fields[V].type&&(o=void 0,s=void 0,l=void 0,o=String(w.hour({twentyfour:!0})),s=String(w.minute()),l=String(w.second()),Z=[o,s,l].join(":"))}(Q.fields[V].required||Math.random()>=.5)&&(X[V]=Z)}e[Q.key].push(X)}}}for(t in e)for(n in e[t])for(r in e[t][n]){var he=e[t][n][r];"string"==typeof he&&(e[t][n][r]=he.replace(/{{\s*([\w\.\?\|]+)\s*}}/g,function(i,a){var r=a.split("?"),o=r[0].split("|"),s=o[0].split(".");if("number"===s[0]&&1===s.length)return Math.floor(10*Math.random());if("word"===s[0]&&2===s.length){if(void 0!==p[s[1]]){if(o.length>1){var l=W(p[s[1]](),o[1]);return o.length>2&&(l=W(l,o[2])),l}return p[s[1]]()}}else{if("field"===s[0]&&2===s.length&&void 0!==e[t][n][s[1]]){if(o.length>1){var u=W(e[t][n][s[1]],o[1]);return o.length>2&&(u=W(u,o[2])),u}return e[t][n][s[1]]}if("field"===s[0]&&3===s.length&&void 0!==e[t][n][s[1]+"_id"]&&void 0!==e[s[1]+"s"]){var d,f,c=e[t][n][s[1]+"_id"],h=s[1]+"s",g=!1;for(d in e[h])for(f in e[h][d]){if(g&&f===s[2]){if(o.length>1){var m=W(e[h][d][f],o[1]);return o.length>2&&(m=W(m,o[2])),m}return e[h][d][f]}"id"===f&&e[h][d][f]===c&&(g=!0)}if(r.length>1)return r[1]}else if(r.length>1)return r[1]}return i}),e[t][n][r]=e[t][n][r].replace(/  +/g," "))}return e}});
//# sourceMappingURL=json-data-extender.umd.js.map
