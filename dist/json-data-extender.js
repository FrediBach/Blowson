function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("chance")),i=e(require("lodash")),n=e(require("txtgen")),r=e(require("faker")),s=new t;function a(e,t){var i=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),n=""+(i.getMonth()+1),r=""+i.getDate(),s=i.getFullYear(),a=i.getHours(),l=i.getMinutes(),f=i.getSeconds();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[s,n,r].join("-")+"T"+[a,l,f].join(":")+"+01:00"}function l(e){var t,i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=[];for(t=i;t<=n;t++)-1==e.indexOf(t)&&r.push(t);return r.length>0&&{start:Math.min.apply(Math,r),end:Math.max.apply(Math,r)}}function f(e){if(!isFinite(e))return 0;for(var t=1,i=0;Math.round(e*t)/t!==e;)t*=10,i++;return i}function o(e){for(var t=0,i=0,n=e;i<n.length;i+=1){var r=f(n[i]);r>t&&(t=r)}return t}function d(e){for(var t,i=!0,n=0,r=e;n<r.length;n+=1)if(D(t=r[n])!==t){i=!1;break}return i}function p(e){return Math.min.apply(Math,e)}function u(e){return Math.max.apply(Math,e)}function h(e){for(var t,i,n=999999999,r=0,s=e;r<s.length;r+=1){t=s[r];for(var a=0,l=e;a<l.length;a+=1)t!==(i=l[a])&&Math.abs(t-i)<n&&(n=Math.abs(t-i))}return n}function g(e,t,i){var n,r;return arguments.length<2&&(t=e,e=0),i||(i=1),n=(t-e)/i,r=Math.random(),r*=n,r=Math.floor(r),r*=i,r+=e}function y(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function c(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function m(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function M(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function v(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function w(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function b(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function x(e){return new Date(Math.min.apply(null,e))}function C(e){return new Date(Math.max.apply(null,e))}function T(e){for(var t=[],i=0,n=e;i<n.length;i+=1)t.push(new Date(n[i]));return t}function D(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function j(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function q(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function E(e,t){for(var i,n={},r=[],s=0,a=e;s<a.length;s+=1)void 0===n[i=a[s]]?n[i]=1:n[i]++;for(var l=0,f=t;l<f.length;l+=1)r.push(n[i=f[l]]);return r}var S=new t;module.exports=function(e){var t,f,k,N,U,$,F,I,z,L,O=[];for(t in e){var J={key:t,minID:1,maxID:1,totalCount:0,fields:{}},Y=void 0,H=void 0;for(Y in e[t])for(H in e[t][Y]){var A=e[t][Y][H],B="undefined";"boolean"==typeof A?B="boolean":"number"==typeof A?B=Math.round(A)===A?"int":"float":"string"==typeof A?B=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(A)?"date":j(A)?"datetime":q(A)?"time":1===A.length?"char":"string":"object"==typeof A&&(B="JSON"),void 0===J.fields[H]?J.fields[H]={types:[B],entries:[A],allEntries:[A],cnt:1}:(J.fields[H].types.push(B),J.fields[H].types=i.uniq(J.fields[H].types),J.fields[H].entries.push(A),J.fields[H].entries=i.uniq(J.fields[H].entries),J.fields[H].allEntries.push(A),J.fields[H].cnt++)}for(H in J.fields)"id"===H&&(J.totalCount=J.fields[H].cnt),1===J.fields[H].types.length&&(J.fields[H].type=J.fields[H].types[0]),J.fields[H].entries.length<J.fields[H].cnt?(J.fields[H].repeatEntries=!0,J.fields[H].weights=E(J.fields[H].allEntries,J.fields[H].entries)):J.fields[H].repeatEntries=!1,J.fields[H].required=!(J.fields[H].cnt<J.totalCount);J.gap=l(J.fields.id.entries),O.push(J)}for(t in O){var G=O[t];if(G.gap){var K=void 0,P=void 0;for(K=G.gap.start;K<=G.gap.end;K++){var Q={};for(P in G.fields){var R="";if(G.fields[P].repeatEntries&&(R=S.weighted(G.fields[P].entries,G.fields[P].weights)),"id"===P&&(R=K),"age"===P&&"int"===G.fields[P].type&&(R=S.age()),"firstname"===P&&"string"===G.fields[P].type&&(R=S.first()),"lastname"===P&&"string"===G.fields[P].type&&(R=S.last()),"company"===P&&"string"===G.fields[P].type&&(R=S.company()),"country"===P&&"string"===G.fields[P].type&&(R=S.country()),"email"===P&&"string"===G.fields[P].type&&(R=r.internet.exampleEmail()),"color"===P&&"string"===G.fields[P].type&&(R=S.color()),"ip"===P&&"string"===G.fields[P].type&&(R=S.ip()),"profession"===P&&"string"===G.fields[P].type&&(R=S.profession()),"url"===P&&"string"===G.fields[P].type&&(R=S.url()),"city"===P&&"string"===G.fields[P].type&&(R=S.city()),"street"===P&&"string"===G.fields[P].type&&(R=S.street()),"zip"===P&&"int"===G.fields[P].type&&(R=parseInt(S.zip())),"weekday"===P&&"string"===G.fields[P].type&&(R=S.weekday()),"year"===P&&"int"===G.fields[P].type&&(R=parseInt(S.year())),"password"===P&&"string"===G.fields[P].type&&(R=S.hash()),"guid"===P&&"string"===G.fields[P].type&&(R=S.guid()),"product"===P&&"string"===G.fields[P].type&&(R=r.commerce.productName()),"material"===P&&"string"===G.fields[P].type&&(R=r.commerce.productMaterial()),"iban"===P&&"string"===G.fields[P].type&&(R=r.finance.iban()),"bic"===P&&"string"===G.fields[P].type&&(R=r.finance.bic()),"avatar"===P&&"string"===G.fields[P].type&&(R=r.image.avatar()),"username"===P&&"string"===G.fields[P].type&&(R=r.internet.userName()),"homepage"===P&&"string"===G.fields[P].type&&(R=r.internet.url()),"job"===P&&"string"===G.fields[P].type&&(R=r.name.jobTitle()),"mimetype"===P&&"string"===G.fields[P].type&&(R=r.system.mimeType()),""===R&&"JSON"===G.fields[P].type&&(R={}),""===R&&"string"===G.fields[P].type){var V=Math.min.apply(Math,G.fields[P].entries.map(function(e){return e.length})),W=y(G.fields[P].entries),X=c(G.fields[P].entries),Z=m(G.fields[P].entries),_=M(G.fields[P].entries),ee=v(G.fields[P].entries),te=w(G.fields[P].entries),ie=b(G.fields[P].entries);R=ie>1?n.article(Math.floor(Math.random()*ie)+te):ee>1?n.paragraph(Math.floor(Math.random()*ee)+_):Z>1?S.sentence({words:Math.floor(Math.random()*Z)+X}).slice(0,-1):G.fields[P].entries[0][0].toUpperCase()===G.fields[P].entries[0][0]?S.capitalize(S.word({length:Math.floor(Math.random()*V)+W})):S.string({length:Math.floor(Math.random()*V)+W}),G.fields[P].entries[0]===G.fields[P].entries[0].toUpperCase()?R=R.toUpperCase():G.fields[P].entries[0]===G.fields[P].entries[0].toLowerCase()?R=R.toLowerCase():d(G.fields[P].entries)&&(R=D(R))}if(""===R&&"int"===G.fields[P].type)R=g(p(G.fields[P].entries),u(G.fields[P].entries),h(G.fields[P].entries));if(""===R&&"float"===G.fields[P].type){var ne=p(G.fields[P].entries),re=u(G.fields[P].entries),se=o(G.fields[P].entries);R=Number((Math.random()*re+ne).toFixed(se))}if(""===R&&"char"===G.fields[P].type&&(R=G.fields[P].entries[0]===G.fields[P].entries[0].toUpperCase()?S.letter({casing:"upper"}):G.fields[P].entries[0]===G.fields[P].entries[0].toLowerCase()?S.letter({casing:"lower"}):S.letter()),""===R&&"date"===G.fields[P].type){var ae=x(T(G.fields[P].entries)),le=C(T(G.fields[P].entries));U=ae,$=le,F=void 0,I=void 0,z=void 0,L=void 0,F=new Date(U.getTime()+Math.random()*($.getTime()-U.getTime())),I=""+(F.getMonth()+1),z=""+F.getDate(),L=F.getFullYear(),I.length<2&&(I="0"+I),z.length<2&&(z="0"+z),R=[L,I,z].join("-")}if(""===R&&"datetime"===G.fields[P].type)R=a(x(T(G.fields[P].entries)),C(T(G.fields[P].entries)));""===R&&"time"===G.fields[P].type&&(f=void 0,k=void 0,N=void 0,f=String(s.hour({twentyfour:!0})),k=String(s.minute()),N=String(s.second()),R=[f,k,N].join(":")),(G.fields[P].required||Math.random()>=.5)&&(Q[P]=R)}e[G.key].push(Q)}}}return e};
//# sourceMappingURL=json-data-extender.js.map
