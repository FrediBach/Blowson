function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("chance")),i=e(require("lodash")),n=e(require("txtgen")),r=e(require("faker")),s=e(require("slugify")),a=e(require("md5")),l=new t;function f(e,t){var i=new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),n=""+(i.getMonth()+1),r=""+i.getDate(),s=i.getFullYear(),a=i.getHours(),l=i.getMinutes(),f=i.getSeconds();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[s,n,r].join("-")+"T"+[a,l,f].join(":")+"+01:00"}function o(e){var t,i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=[];for(t=i;t<=n;t++)-1==e.indexOf(t)&&r.push(t);return r.length>0&&{start:Math.min.apply(Math,r),end:Math.max.apply(Math,r)}}function d(e){if(!isFinite(e))return 0;for(var t=1,i=0;Math.round(e*t)/t!==e;)t*=10,i++;return i}function p(e){for(var t=0,i=0,n=e;i<n.length;i+=1){var r=d(n[i]);r>t&&(t=r)}return t}function u(e){for(var t,i=!0,n=0,r=e;n<r.length;n+=1)if(q(t=r[n])!==t){i=!1;break}return i}function h(e){return Math.min.apply(Math,e)}function g(e){return Math.max.apply(Math,e)}function c(e){for(var t,i,n=999999999,r=0,s=e;r<s.length;r+=1){t=s[r];for(var a=0,l=e;a<l.length;a+=1)t!==(i=l[a])&&Math.abs(t-i)<n&&(n=Math.abs(t-i))}return n}function m(e,t,i){var n,r;return arguments.length<2&&(t=e,e=0),i||(i=1),n=(t-e)/i,r=Math.random(),r*=n,r=Math.floor(r),r*=i,r+=e}function y(e){return Math.max.apply(Math,e.map(function(e){return e.length}))}function M(e){return Math.min.apply(Math,e.map(function(e){return e.split(" ").length}))}function v(e){return Math.max.apply(Math,e.map(function(e){return e.split(" ").length}))}function w(e){return Math.min.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function b(e){return Math.max.apply(Math,e.map(function(e){return e.split(/[\.\!\?]+/).length}))}function x(e){return Math.min.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function C(e){return Math.max.apply(Math,e.map(function(e){return e.replace(/\n$/gm,"").split(/\n/).length}))}function j(e){return new Date(Math.min.apply(null,e))}function S(e){return new Date(Math.max.apply(null,e))}function T(e){for(var t=[],i=0,n=e;i<n.length;i+=1)t.push(new Date(n[i]));return t}function q(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function D(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\+[0-9]{2}:[0-9]{2}$/.test(e)}function E(e){return/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(e)}function k(e,t){for(var i,n={},r=[],s=0,a=e;s<a.length;s+=1)void 0===n[i=a[s]]?n[i]=1:n[i]++;for(var l=0,f=t;l<f.length;l+=1)r.push(n[i=f[l]]);return r}var L=new t;n.addTemplates(["congratulations to the {{noun}} that won the {{adjective}} {{noun}} with {{a_noun}}","incomprehensibilities of a {{adjective}} {{noun}} and {{a_noun}} made {{a_noun}} {{adjective}}"]),module.exports=function(e){var t,d,N,U,$,F,I,z,O,_,J=[];for(t in e){var Y={key:t,minID:1,maxID:1,totalCount:0,fields:{}},H=void 0,A=void 0;for(H in e[t])for(A in e[t][H]){var B=e[t][H][A],G="undefined";"boolean"==typeof B?G="boolean":"number"==typeof B?G=Math.round(B)===B?"int":"float":"string"==typeof B?G=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(B)?"date":D(B)?"datetime":E(B)?"time":1===B.length?"char":"string":"object"==typeof B&&(G="JSON"),void 0===Y.fields[A]?Y.fields[A]={types:[G],entries:[B],allEntries:[B],cnt:1}:(Y.fields[A].types.push(G),Y.fields[A].types=i.uniq(Y.fields[A].types),Y.fields[A].entries.push(B),Y.fields[A].entries=i.uniq(Y.fields[A].entries),Y.fields[A].allEntries.push(B),Y.fields[A].cnt++)}for(A in Y.fields)"id"===A&&(Y.totalCount=Y.fields[A].cnt),1===Y.fields[A].types.length&&(Y.fields[A].type=Y.fields[A].types[0]),Y.fields[A].entries.length<Y.fields[A].cnt?(Y.fields[A].repeatEntries=!0,Y.fields[A].weights=k(Y.fields[A].allEntries,Y.fields[A].entries)):Y.fields[A].repeatEntries=!1,Y.fields[A].required=!(Y.fields[A].cnt<Y.totalCount);Y.gap=o(Y.fields.id.entries),J.push(Y)}for(t in J){var K=J[t];if(K.gap){var P=void 0,Q=void 0;for(P=K.gap.start;P<=K.gap.end;P++){var R={};for(Q in K.fields){var V="";if(K.fields[Q].repeatEntries)V=L.weighted(K.fields[Q].entries,K.fields[Q].weights);else{if("id"===Q&&(V=P),"age"===Q&&"int"===K.fields[Q].type&&(V=L.age()),"firstname"===Q&&"string"===K.fields[Q].type&&(V=L.first()),"lastname"===Q&&"string"===K.fields[Q].type&&(V=L.last()),"company"===Q&&"string"===K.fields[Q].type&&(V=L.company()),"country"===Q&&"string"===K.fields[Q].type&&(V=L.country()),"email"===Q&&"string"===K.fields[Q].type&&(V=r.internet.exampleEmail()),"color"===Q&&"string"===K.fields[Q].type&&(V=L.color()),"ip"===Q&&"string"===K.fields[Q].type&&(V=L.ip()),"profession"===Q&&"string"===K.fields[Q].type&&(V=L.profession()),"url"===Q&&"string"===K.fields[Q].type&&(V=L.url()),"city"===Q&&"string"===K.fields[Q].type&&(V=L.city()),"street"===Q&&"string"===K.fields[Q].type&&(V=L.street()),"zip"===Q&&"int"===K.fields[Q].type&&(V=parseInt(L.zip())),"weekday"===Q&&"string"===K.fields[Q].type&&(V=L.weekday()),"year"===Q&&"int"===K.fields[Q].type&&(V=parseInt(L.year())),"password"===Q&&"string"===K.fields[Q].type&&(V=L.hash()),"guid"===Q&&"string"===K.fields[Q].type&&(V=L.guid()),"product"===Q&&"string"===K.fields[Q].type&&(V=r.commerce.productName()),"material"===Q&&"string"===K.fields[Q].type&&(V=r.commerce.productMaterial()),"iban"===Q&&"string"===K.fields[Q].type&&(V=r.finance.iban()),"bic"===Q&&"string"===K.fields[Q].type&&(V=r.finance.bic()),"avatar"===Q&&"string"===K.fields[Q].type&&(V=r.image.avatar()),"username"===Q&&"string"===K.fields[Q].type&&(V=r.internet.userName()),"homepage"===Q&&"string"===K.fields[Q].type&&(V=r.internet.url()),"job"===Q&&"string"===K.fields[Q].type&&(V=r.name.jobTitle()),"mimetype"===Q&&"string"===K.fields[Q].type&&(V=r.system.mimeType()),""===V&&"JSON"===K.fields[Q].type&&(V={}),""===V&&"string"===K.fields[Q].type){var W=Math.min.apply(Math,K.fields[Q].entries.map(function(e){return e.length})),X=y(K.fields[Q].entries),Z=M(K.fields[Q].entries),ee=v(K.fields[Q].entries),te=w(K.fields[Q].entries),ie=b(K.fields[Q].entries),ne=x(K.fields[Q].entries),re=C(K.fields[Q].entries);V=re>1?n.article(Math.floor(Math.random()*re)+ne):ie>1?n.paragraph(Math.floor(Math.random()*ie)+te):ee>1?L.sentence({words:Math.floor(Math.random()*ee)+Z}).slice(0,-1):K.fields[Q].entries[0][0].toUpperCase()===K.fields[Q].entries[0][0]?L.capitalize(L.word({length:Math.floor(Math.random()*W)+X})):L.string({length:Math.floor(Math.random()*W)+X}),K.fields[Q].entries[0]===K.fields[Q].entries[0].toUpperCase()?V=V.toUpperCase():K.fields[Q].entries[0]===K.fields[Q].entries[0].toLowerCase()?V=V.toLowerCase():u(K.fields[Q].entries)&&(V=q(V))}if(""===V&&"int"===K.fields[Q].type)V=m(h(K.fields[Q].entries),g(K.fields[Q].entries),c(K.fields[Q].entries));if(""===V&&"float"===K.fields[Q].type){var se=h(K.fields[Q].entries),ae=g(K.fields[Q].entries),le=p(K.fields[Q].entries);V=Number((Math.random()*ae+se).toFixed(le))}if(""===V&&"char"===K.fields[Q].type&&(V=K.fields[Q].entries[0]===K.fields[Q].entries[0].toUpperCase()?L.letter({casing:"upper"}):K.fields[Q].entries[0]===K.fields[Q].entries[0].toLowerCase()?L.letter({casing:"lower"}):L.letter()),""===V&&"date"===K.fields[Q].type){var fe=j(T(K.fields[Q].entries)),oe=S(T(K.fields[Q].entries));$=fe,F=oe,I=void 0,z=void 0,O=void 0,_=void 0,I=new Date($.getTime()+Math.random()*(F.getTime()-$.getTime())),z=""+(I.getMonth()+1),O=""+I.getDate(),_=I.getFullYear(),z.length<2&&(z="0"+z),O.length<2&&(O="0"+O),V=[_,z,O].join("-")}if(""===V&&"datetime"===K.fields[Q].type)V=f(j(T(K.fields[Q].entries)),S(T(K.fields[Q].entries)));""===V&&"time"===K.fields[Q].type&&(d=void 0,N=void 0,U=void 0,d=String(l.hour({twentyfour:!0})),N=String(l.minute()),U=String(l.second()),V=[d,N,U].join(":"))}(K.fields[Q].required||Math.random()>=.5)&&(R[Q]=V)}e[K.key].push(R)}}}var de=function(t){var i=function(t){for(var i in e[pe][n]){var r=e[pe][n][i];"string"==typeof r&&(e[pe][n][i]=r.replace(/{{\s*([\w\.\?\|]+)\s*}}/g,function(t,i){var r=i.split("?"),l=r[0].split("|"),f=l[0].split(".");if("field"===f[0]&&2===f.length&&void 0!==e[pe][n][f[1]]){if(l.length>1){var o=l[1];return"slug"===o?s(String(e[pe][n][f[1]]),{lower:!0}):"lower"===o?String(e[pe][n][f[1]]).toLowerCase():"uppper"===o?String(e[pe][n][f[1]]).toLowerCase():"md5"===o?a(String(e[pe][n][f[1]])):e[pe][n][f[1]]}return e[pe][n][f[1]]}return r.length>1?r[1]:t}))}};for(var n in e[pe])i()};for(var pe in e)de();return e};
//# sourceMappingURL=json-data-extender.js.map
